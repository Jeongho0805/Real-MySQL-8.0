# 1주차 질문 리스트

<br>

## 정호

#### MySQL은 멀티쓰레드 방식으로 작업이 수행된다. 포그라운드 쓰레드와 백그라운드 쓰레드에 대해서 아는만큼 말을 해주세요.

<br/>

* **포그라운드 스레드는** 최소한 MySQL 클라이언트 수만큼 존재합니다. 클라이언트 사용자가 작업을 마치고 커넥션을 종료하면, 해당 커넥션을 담당하는 스레드는 스레드 캐시로 돌아갑니다. 만약 스레드 캐시에 일정 갯수 이상의 대기중인 스레드가 있으면 해당 스레드를 캐시에 넣지 않고 종료하여 갯수를 일정하게 유지해줍니다. 포그라운드 스레드는 스토리지 엔진의 종류에 따라 역할의 범위가 달라집니다. MyISAM 엔진은 버퍼나 캐시로 부터 데이터를 가져오는 것을 넘어서서 디스크에 접근하여 데이터를 가져오거나 쓰기 작업까지 포그라운드 스레드가 수행합니다. 반면에 InnoDB 엔진에서의 포그라운드 스레드는 데이터 버퍼나 캐시까지만 포그라운드 스레드가 처리합니다. 나머지 디스크 관련 쓰기 작업은 백그라운드 스레드가 수행하는 특징이 있습니다. <br/><br/>
**백그라운드 스레드는** InnoDB 엔진 기준으로 인서트 버퍼를 병합하며, 로그를 디스크로 기록하고, 버퍼 풀의 데이터를 디스크에 기록하는 역할들을 수행합니다. 가장 중요한 것은 디스크로 내려쓰는 작업을 하는 쓰기 쓰레드입니다. InnoDB에서 쓰기 지연이 가능한 이유도 다른 엔진에서는 쓰기 작업도 포그라운드 스레드에서 처리하게 되어 버퍼링 기능을 활용할 수 없지만, InnoDB에서 쓰기 작업은 백그라운드 스레드가 담당하여 쓰기 지연 작업을 할 수 있는 특징이 있습니다.

<br/><br/>

#### 메모리 할당 구조에 대해서 설명하실 수 있나요?
* MySQL의 메모리는 크게 두가지로 나눌 수 있습니다. **글로벌 메모리 영역과 세션 메모리 영역입니다.** <br/><br/> 글로벌 메모리 영역은 클라이언트 스레드의 수와 무관하게 하나의 메모리 공간만 할당이 됩니다. 필요에 따라 하나 이상의 공간을 할당 받을 수도 있지만 실제 클라이언트 스레드 수와는 무관합니다. 또한 모든 스레드에 의해 공유되는 특징이 있습니다. 대표적인 글로벌 메모리는 (테이블 캐시, InnoDB 버퍼 풀, InnoDB 어댑티브 해시 인덱스, InnoDB 리두 로그 버퍼) 등이 있습니다. <br/><br/> 로컬 메모리 영역은 세션 메모리 영역이라고도 부릅니다. MySQL에서 세션은 클라이언트 커넥션으로 부터 요청을 처리하기 위해 스레드를 하나씩 할당하게 되는데, 이 스레드가 활용하는 메모리가 바로 로컬 메모리입니다. MySQL과 클라잉너트간의 커넥션을 세션이라고 부르기 때문에, 로컬 메모리를 세션 메모리라고도 부릅니다. 로컬 메모리는 스레드 별로 독립적으로 할당되어 절대 공유되지 않는 특징이 있습니다. 종류로는 (소트 버퍼, 조인 버퍼, 커넥션 버퍼, 결과 버퍼) 등이 있습니다. 소트 버퍼나 조인 버퍼는 사용하지 않을 경우 메모리 공간을 할당조차 하지 않을 수도 있지만, 커넥션버퍼나 결과 버퍼는 커넥션이 열려 있는 동안 계속 메모리가 할당된 상태로 남아있는 특징이 있습니다.


#### 쿼리 요청이 왔을 때, 어떤 과정을 통해서 작업이 이루어지는지?
* 

#### innoDB의 프라이머리 키에 의한 클러스터링에 대해서 설명해주세요.
* 

#### innoDB의 외래키 지원에 대해서 설명해주세요.
* 

#### 리두 로그보다 버퍼풀이 훨씬 클 때, 버퍼풀이 리두 로그가 훨씬 클 때 뭐가 다를까?
* 

#### 플러시 리스트 플러스에 대해서 설명해주세요.

<br>

## 의찬

#### 버퍼풀의 경우 바로 디스크에 반영하는 것이 아니라, 모아놨다가 이따금 한 번씩 하게된다. 따라서 장애시 데이터가 유실 가능하다. 따라서 리두 로그에 기록된다.
* 

#### innoDB 쿼리 캐시가 없어졌다. 왜 그럴까?
* 

<br>

## 지훈

#### 어댑티브 해시 인덱스에 대해서 설명해주세요. 카카오 블로그에 어댑티브 해시 인덱스를 활용한 사례가 있다. 어떤 경우에 어댑티브 해시 인덱스를 쓰는 것이 좋겠는가?
* 

#### LRU 리스트 플러시는 무엇인가요?
* 

<br>

## 성민

#### MVCC 방식 Lock을 이용한 방식에 비해서 어떤 장점이 있는가?
* 

<br>

## 민욱

#### 자동 데드락 기능에서, 데드락을 어떻게 판단하는지?
* 

#### 버퍼풀의 구조에 대해서 설명해주세요.
* 
